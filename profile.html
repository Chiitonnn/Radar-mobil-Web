<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mon Profil - Contr√¥le Servo</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="dashboard-page">
    <header class="dashboard-header">
        <div class="header-content">
            <h1>üë§ Mon Profil</h1>
            <div class="user-info">
                <a href="dashboard.html" class="btn btn-primary btn-small">‚Üê Retour</a>
            </div>
        </div>
    </header>

    <div class="dashboard-container">
        <div class="section">
            <h2>Informations personnelles</h2>
            <div class="profile-info">
                <div class="profile-field">
                    <label>Nom complet</label>
                    <div class="value" id="profileName">-</div>
                </div>
                <div class="profile-field">
                    <label>Adresse email</label>
                    <div class="value" id="profileEmail">-</div>
                </div>
                <div class="profile-field">
                    <label>Date d'inscription</label>
                    <div class="value" id="profileDate">-</div>
                </div>
                <div class="profile-field">
                    <label>Nombre d'appareils</label>
                    <div class="value" id="profileDevices">-</div>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>Actions du compte</h2>
            <div class="profile-actions">
                <button onclick="logout()" class="btn btn-danger">üö™ D√©connexion</button>
                <a href="dashboard.html" class="btn btn-primary">üì± Tableau de bord</a>
            </div>
        </div>
    </div>

    <script src="auth.js"></script>
    <script src="app.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            if (!authManager.currentUser) {
                window.location.href = 'index.html';
                return;
            }

            document.getElementById('profileName').textContent = authManager.currentUser.name;
            document.getElementById('profileEmail').textContent = authManager.currentUser.email;
            document.getElementById('profileDate').textContent = new Date(authManager.currentUser.createdAt).toLocaleDateString();
            
            const devicesCount = authManager.getUserDevices().length;
            document.getElementById('profileDevices').textContent = devicesCount;
        });

        function logout() {
            authManager.logout();
        }
    </script>
</body>
</html>